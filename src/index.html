<html>
    <head>
        <meta charset="UTF-8">
        <title>Lazy Link Shorter</title>

    </head>
    <body>
        <p>
            Hello Strangers!
        </p>
        <p>
            This is a link shorter service, contact mio@lazym.io if you would like to get access.
        </p>
        <p>
            ===============
        </p>
        <p>
            To shorten a link as below
        </p>
        <form method="post" action="/api">
            <label>Token:</label><br>
            <input name="token" id="token" placeholder="Access token"><br>
            <label>Path:</label><br>
            <input name="path" id="path" placeholder="Path"><br>
            <label>URL:</label><br>
            <input name="url" id="url" placeholder="URL to shorten"><br>
            <input type="submit" value="Shorten!" onclick="form_click(this.form)">
        </form>
        <p>
            ===============
        </p>
        <p>
            For source, see <a href="https://github.com/wtdcode/link-shorter-rs">this</a> and you could also host one.
        </p>
        
        <script>
            // prefill the token
            var token = localStorage.getItem("token");
            if (token) {
                document.getElementById("token").value = token;
            }

            function form_click(form) {
                localStorage.setItem("token", document.getElementById("token").value);
                form.submit();
            }
        </script>
    </body>
</html>
